/* -------------------------------------------------- */
/* CARD
/* -------------------------------------------------- */

// OPTIONS
$motion-blur-options: (
	direction: y,
	blur-amount: 10px,
	scale-amount: 2,
	duration: 200ms,
	delay: 0,
	ease: ease-in-out
);


// MAIN
.motion-blur {

	$self: &;

	overflow: hidden;
	position: relative;

	img#{$self}-up,
	img#{$self}-active {
		@include transition(
			$property: (opacity, transform, filter),
			$duration: map-get($motion-blur-options, duration),
			$delay: map-get($motion-blur-options, delay),
			$ease: map-get($motion-blur-options, ease),
			$optimize: true
		);
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		//height: 100%;
		//background-size: cover;
		transform: translateZ(0);
		backface-visibility: hidden;
		perspective: 1000;
	}

	img#{$self}-up {

		@if map-get($motion-blur-options, direction) == 'x' {
			transform: translatex(0) scalex(1);
		}
		@if map-get($motion-blur-options, direction) == 'y' {
			transform: translatey(0) scaley(1);
		}

		opacity: 1;
		filter: blur(0);

	}

	img#{$self}-active {

		@if map-get($motion-blur-options, direction) == 'x' {
			transform: translatex(50%) scalex(map-get($motion-blur-options, scale-amount));
		}
		@if map-get($motion-blur-options, direction) == 'y' {
			transform: translatey(50%) scaley(map-get($motion-blur-options, scale-amount));
		}

		opacity: 0;
		filter: blur(map-get($motion-blur-options, blur-amount)) !important;

	}

	&:hover {

		img#{$self} {

			&-up {

				@if map-get($motion-blur-options, direction) == 'x' {
					transform: translatex(-50%) scalex(map-get($motion-blur-options, scale-amount));
				}
				@if map-get($motion-blur-options, direction) == 'y' {
					transform: translatey(-50%) scaley(map-get($motion-blur-options, scale-amount));
				}

				opacity: 0;
				filter: blur(map-get($motion-blur-options, blur-amount));			

			}

			&-active {

				@if map-get($motion-blur-options, direction) == 'x' {
					transform: translatex(0) scalex(1);
				}
				@if map-get($motion-blur-options, direction) == 'y' {
					transform: translatey(0) scaley(1);
				}

				opacity: 1;
				filter: blur(0) !important;

			}

		}

	}
	
}
